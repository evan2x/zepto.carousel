!function(t){"use strict";function e(e,n){n||(n={}),e&&0!==e.length&&(t.extend(this,{$el:e,items:e.children(),lazyload:n.lazyload||!1,autoplay:n.autoplay||!1,interval:n.interval||3e3,index:n.index||0,duration:n.duration||600,start:{},ns:"slider"+o++}),this._init())}function n(t,e,n){t.style.cssText+=a+"transition: transform "+e+"ms ease;"+a+"transform: translate3d("+n+"px,0,0)"}var i="0.0.1-alpha",o=0,r=t(window),a=t.fx.cssPrefix,s=Array.prototype.slice;e.prototype={constructor:e,_init:function(){var t=this;t.container=document.createElement("div"),t.items.wrapAll(t.container),t.refresh(),t._initEvents(),t.autoplay&&t._play(),t._toIndex()},_initEvents:function(){var e=this;e.$el.on({touchstart:t.proxy(e._start,e),touchmove:t.proxy(e._move,e),touchend:t.proxy(e._end,e)}).on(t.fx.transitionEnd,function(){e.autoplay&&null==e.timer&&e._play()}),r.on("resize."+e.ns,t.proxy(e._resize,e))},_resize:function(){var t=this;t.index=t.getIndex(),t.refresh()},_loopItem:function(t,e){var n=this,i=n.items,o=i.length,r=n.width*(e-t),a=e+-t;i.eq(a%o).css("left",r)},_start:function(e){var n=e.touches[0];t.extend(this.start,{x:n.pageX,y:n.pageY,time:Date.now()}),this.move={}},_play:function(){var t=this;clearTimeout(t.timer),t.timer=setTimeout(function e(){t.index++,t._loopItem(1,t.index+1),t._toIndex(t.duration),t.timer=setTimeout(e,t.interval)},t.interval)},_move:function(t){var e=this,i=t.touches[0],o=e.start,r=e.move;if(r.x=i.pageX-o.x,r.y=i.pageY-o.y,Math.abs(r.x)>Math.abs(r.y)){if(null!=e.timer&&(clearTimeout(e.timer),e.timer=null),!e.moving){var a=r.x>=0?1:-1;e._loopItem(a,e.index)}e.moving=!0,n(e.container,0,e.posX+r.x)}else t.preventDefault()},_end:function(){var t=this,e=0,n=Math.abs(t.move.x),i=Date.now()-t.start.time;e=200>i?n>30?1:0:Math.round(n/t.width),e&&(t.move.x>0?t.index-=1:t.index+=1),t._toIndex(t.duration),t.moving=!1},_toIndex:function(t){var e=this,i=e.posX=-(e.width*e.index);n(e.container,t||0,i)},refresh:function(){var e=this;e.width=e.$el.width(),e.posX=-(e.width*e.index),e._toIndex(),e.items.each(function(n,i){t(i).css({position:"absolute",left:n*e.width,top:0,width:e.width})})},slideTo:function(t){var e=this,n=e.items.length;0>t&&(t=0),t>=n&&(t=n-1),e.index=t,e.refresh(),e._toIndex()},getIndex:function(){var t=this;return t.index%t.items.length},destroy:function(){var t=this,e=t.$el;e.removeData("__slider").off(),r.off("resize"+t.ns)}};var l=t.fn.slider=function(n){var i=arguments;if(0===i.length||t.isPlainObject(n)&&1===i.length)t.each(this,function(){var i=t(this);i.data("__slider",new e(i,n))});else if("option"===n&&i.length>1){var o=[];return t.each(this,function(){var e=t(this).data("__slider"),n=null;if(e){if(n=e[i[1]],!(n&&i[1].indexOf("_")<0&&t.isFunction(n)))throw new Error(i[1]+" method does not exist.");var o=n.apply(e,s.call(i,2));null!=o&&o.push(o)}}),o.pop()}return this};l.version=i}(Zepto);
!function(t,e){"use strict";function i(i,n){n||(n={}),i&&0!==i.length&&(t.extend(this,{$el:i,items:i.children(),lazyload:n.lazyload||!1,placeholder:n.placeholder||d,attribute:n.attribute||"data-src",autoplay:n.autoplay||!1,interval:n.interval||3e3,index:n.index||0,duration:n.duration||600,start:{}}),this.eventName="onorientationchange"in e?"orientationchange":"resize.slider"+o++,this._init())}function n(t,e,i){t.style.cssText+=s+"transition: "+s+"transform "+e+"ms ease;"+s+"transform: translate3d("+i+"px,0,0)"}var a="0.0.2-alpha",o=0,r=t(e),s=t.fx.cssPrefix,l=Array.prototype.slice,d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEX///+nxBvIAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==";i.prototype={constructor:i,_init:function(){var t=this;if(t.container=document.createElement("div"),t.items.wrapAll(t.container),t._initEvents(),t.autoplay&&t._play(),t.lazyload){var e="img["+t.attribute+"]";t.items.find(e).prop("src",t.placeholder)}t.refresh()},_initEvents:function(){var e=this,i=function(i){var n=i.touches[0];t.extend(e.start,{x:n.pageX,y:n.pageY,time:Date.now()}),e.move={}},a=function(t){var i=t.touches[0],a=e.start,o=e.move;if(o.x=i.pageX-a.x,o.y=i.pageY-a.y,Math.abs(o.x)>Math.abs(o.y)){if(null!=e.timer&&(clearTimeout(e.timer),e.timer=null),!e.moving){var r=o.x>=0?1:-1;e._loopItem(r,e.index)}e.moving=!0,n(e.container,0,e.posX+o.x)}else t.preventDefault()},o=function(){var t=0,i=Math.abs(e.move.x),n=Date.now()-e.start.time;t=200>n?i>30?1:0:Math.round(i/e.width),t&&(e.move.x>0?e.index-=1:e.index+=1),e._toIndex(e.duration),e.moving=!1},s=function(){e.index=e.getIndex(),e.refresh()};e.$el.on({touchstart:i,touchmove:a,touchend:o}).on(t.fx.transitionEnd,function(){e.autoplay&&null==e.timer&&e._play()}),r.on(e.eventName,s)},_loopItem:function(t,e){var i=this,n=i.items,a=n.length,o=i.width*(e-t),r=e+-t;n.eq(r%a).css("left",o)},_play:function(){var t=this;clearTimeout(t.timer),t.timer=setTimeout(function e(){t.index++,t._loopItem(1,t.index+1),t._toIndex(t.duration),t.timer=setTimeout(e,t.interval)},t.interval)},_toIndex:function(t){var e=this,i=e.posX=-(e.width*e.index);e.lazyload&&e._loadImg(),n(e.container,t||0,i)},_loadImg:function(){var t=this,e=t.items.eq(t.getIndex()),i=e.data("loaded");if(!i){var n=e.find("img["+t.attribute+"]");n.prop("src",n.attr(t.attribute)),e.data("loaded",!0)}},refresh:function(){var e=this;e.width=e.$el.width(),e.posX=-(e.width*e.index),e._toIndex(),e.items.each(function(i,n){t(n).css({position:"absolute",left:i*e.width,top:0,width:e.width})})},slideTo:function(t){var e=this,i=e.items.length;0>t&&(t=0),t>=i&&(t=i-1),e.index=t,e.refresh(),e._toIndex()},getIndex:function(){var t=this;return t.index%t.items.length},destroy:function(){var t=this,e=t.$el;e.removeData("__slider").off(),r.off(t.eventName)}};var u=t.fn.slider=function(e){var n=arguments;if(0===n.length||t.isPlainObject(e)&&1===n.length)t.each(this,function(){var n=t(this);n.data("__slider",new i(n,e))});else if("option"===e&&n.length>1){var a=[];return t.each(this,function(){var e=t(this).data("__slider"),i=null;if(e){if(i=e[n[1]],!(i&&n[1].indexOf("_")<0&&t.isFunction(i)))throw new Error(n[1]+" method does not exist.");var a=i.apply(e,l.call(n,2));null!=a&&a.push(a)}}),a.pop()}return this};u.version=a}(Zepto,window);